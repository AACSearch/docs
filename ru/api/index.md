# API индексов

API индексов позволяет управлять поисковыми индексами в AACSearch. Индексы являются контейнерами для ваших данных, доступных для поиска, и этот API предоставляет конечные точки для создания, обновления, удаления и получения списка индексов.

## Обзор

Индексы - это фундаментальная структура в AACSearch, где хранятся и ищутся ваши данные. API индексов предоставляет полный контроль над управлением индексами, позволяя эффективно организовывать ваши данные.

- **Базовая конечная точка**: `/indexes`
- **Аутентификация**: Требуется API-ключ, передаваемый в заголовке как `X-API-Key`.

## Список индексов

Получить список всех индексов в вашем аккаунте AACSearch.

- **Конечная точка**: `GET /indexes`
- **Описание**: Возвращает список имен индексов и базовые метаданные.

### Запрос

```bash
curl -X GET "https://api.aacsearch.com/indexes" \
  -H "X-API-Key: your-api-key"
```

### Ответ

```json
{
  "indexes": [
    {
      "name": "продукты",
      "createdAt": "2023-01-01T00:00:00Z",
      "updatedAt": "2023-01-02T00:00:00Z",
      "entries": 1500
    },
    {
      "name": "контент",
      "createdAt": "2023-01-03T00:00:00Z",
      "updatedAt": "2023-01-03T00:00:00Z",
      "entries": 500
    }
  ],
  "total": 2
}
```

## Создание индекса

Создать новый индекс для хранения и поиска данных.

- **Конечная точка**: `POST /indexes`
- **Описание**: Создает новый индекс с указанным именем и необязательными настройками.

### Запрос

```bash
curl -X POST "https://api.aacsearch.com/indexes" \
  -H "X-API-Key: your-api-key" \
  -H "Content-Type: application/json" \
  -d '{"name": "продукты", "settings": {"searchableAttributes": ["title", "description"], "filterableAttributes": ["category", "price"]}}'
```

### Ответ

```json
{
  "name": "продукты",
  "createdAt": "2023-01-01T00:00:00Z",
  "updatedAt": "2023-01-01T00:00:00Z",
  "entries": 0,
  "settings": {
    "searchableAttributes": ["title", "description"],
    "filterableAttributes": ["category", "price"]
  },
  "status": "created"
}
```

## Обновление индекса

Обновить настройки или метаданные существующего индекса.

- **Конечная точка**: `PUT /indexes/{name}`
- **Описание**: Обновляет настройки указанного индекса.

### Запрос

```bash
curl -X PUT "https://api.aacsearch.com/indexes/продукты" \
  -H "X-API-Key: your-api-key" \
  -H "Content-Type: application/json" \
  -d '{"settings": {"searchableAttributes": ["title", "description", "brand"], "filterableAttributes": ["category", "price", "brand"]}}'
```

### Ответ

```json
{
  "name": "продукты",
  "createdAt": "2023-01-01T00:00:00Z",
  "updatedAt": "2023-01-02T00:00:00Z",
  "entries": 1500,
  "settings": {
    "searchableAttributes": ["title", "description", "brand"],
    "filterableAttributes": ["category", "price", "brand"]
  },
  "status": "updated"
}
```

## Удаление индекса

Удалить индекс и все его данные из AACSearch.

- **Конечная точка**: `DELETE /indexes/{name}`
- **Описание**: Удаляет указанный индекс и все связанные с ним данные. Это действие необратимо.

### Запрос

```bash
curl -X DELETE "https://api.aacsearch.com/indexes/продукты" \
  -H "X-API-Key: your-api-key"
```

### Ответ

```json
{
  "name": "продукты",
  "status": "deleted"
}
```

## Лучшие практики управления индексами

- **Соглашения об именовании**: Используйте описательные имена для индексов, отражающие тип данных, которые они содержат (например, "продукты", "пользователи", "контент").
- **Настройка параметров**: Настройте атрибуты для поиска и фильтрации на основе структуры ваших данных для оптимизации производительности поиска. Смотрите [API настроек](./settings.md) для продвинутых опций конфигурации.
- **Организация данных**: Рассмотрите создание отдельных индексов для разных типов данных или сценариев использования, чтобы улучшить релевантность и производительность поиска.
- **Регулярные обновления**: Периодически обновляйте настройки индекса, чтобы отражать изменения в ваших данных или требованиях к поиску.

## Устранение неисправностей

Если вы столкнулись с проблемами при управлении индексами:

- Убедитесь, что ваш API-ключ имеет необходимые разрешения для создания, обновления или удаления индексов.
- Проверьте, что имя индекса уникально при создании нового индекса.
- Ознакомьтесь с разделом [Ошибки API](../troubleshooting/api-errors.md) для конкретных кодов ошибок и решений.
- Используйте [Режим отладки](../troubleshooting/debug.md) для получения подробных логов для диагностики проблем.

## Дополнительные ресурсы

- [Дашборд AACSearch](https://dashboard.aacsearch.com) - Управление индексами визуально через дашборд.
- [Площадка API](https://api.aacsearch.com/playground) - Интерактивное тестирование вызовов API управления индексами.
- [Руководство по управлению индексами](../guides/dashboard/indexes.md) - Узнайте, как управлять индексами через дашборд.
- [API настроек](./settings.md) - Подробная документация по настройке параметров индекса.
