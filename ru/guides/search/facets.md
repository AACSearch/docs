# Фасетный поиск

Это руководство объясняет, как настроить и управлять фасетным поиском в AACSearch, чтобы пользователи могли фильтровать результаты по конкретным атрибутам или категориям.

## Введение

Фасетный поиск, также известный как фасетная навигация, позволяет пользователям уточнять результаты поиска, применяя фильтры на основе заранее определенных атрибутов, таких как категория, цена, бренд или другие метаданные. AACSearch предоставляет надежные инструменты для реализации фасетного поиска, улучшая пользовательский опыт за счет упрощения сужения результатов до наиболее релевантных элементов.

## Доступ к настройкам фасетов

1. **Перейдите к индексам**: В боковом меню дашборда выберите "Индексы".
2. **Выберите индекс**: Нажмите на индекс, который вы хотите настроить.
3. **Перейдите к настройкам поиска**: В деталях индекса найдите вкладку или раздел "Настройка поиска", затем ищите настройки "Фасеты" или "Фасетный поиск".

## Понимание фасетов

- **Определение фасета**: Фасет — это атрибут или поле в ваших данных (например, "категория", "диапазон цен"), которые пользователи могут использовать для фильтрации результатов поиска.
- **Значения фасета**: Конкретные варианты внутри фасета (например, для фасета "категория" значениями могут быть "электроника", "одежда", "книги").
- **Фильтры фасетов**: Механизм, с помощью которого пользователи выбирают значения фасетов для сужения результатов поиска.

## Настройка фасетов

1. **Определите фасеты**: В настройках фасетов нажмите "Добавить фасет" или выберите поля из схемы данных, которые будут использоваться как фасеты.
2. **Настройте свойства фасета**:
   - **Название**: Дайте фасету удобное для пользователя имя (например, "Категория продукта").
   - **Поле**: Сопоставьте его с соответствующим полем в ваших данных.
   - **Тип**: Укажите, является ли это категориальным фасетом (например, "бренд") или диапазонным фасетом (например, "цена").
3. **Установите параметры отображения**:
   - **Порядок**: Определите порядок, в котором фасеты отображаются в поисковом интерфейсе.
   - **Видимость**: Выберите, будет ли фасет всегда видимым или появляться только при релевантности.
   - **Ограничение значений**: Установите ограничение на количество отображаемых значений фасета, чтобы не перегружать пользователей.
4. **Сохраните изменения**: Примените ваши настройки, чтобы обновить индекс с новой конфигурацией фасетов.

## Управление фильтрами фасетов

- **Включите множественный выбор**: Разрешите пользователям выбирать несколько значений внутри одного фасета (например, фильтровать по "электронике" и "одежде" одновременно).
- **Комбинируйте фасеты**: Позвольте пользователям применять фильтры по нескольким фасетам (например, "категория: электроника" И "цена: до $100").
- **Логика фильтрации**: Выберите между логикой "И" (все условия должны совпадать) и "ИЛИ" (любое условие может совпадать) для множественно выбранных значений.

## Настройка отображения фасетов в интерфейсе

- **Виджеты фасетов**: Используйте SDK или компоненты AACSearch для интеграции фасетов в ваш поисковый интерфейс в виде выпадающих списков, флажков, ползунков (для диапазонов) или других элементов UI.
- **Динамические счетчики**: Отображайте количество совпадающих результатов для каждого значения фасета (например, "электроника (120)"), обновляя их динамически по мере применения фильтров.
- **Иерархические фасеты**: Для вложенных категорий (например, "электроника > телефоны > смартфоны") настройте иерархические фасеты, чтобы направлять пользователей через подкатегории.

## Тестирование фасетного поиска

- **Предпросмотр поиска**: Используйте инструмент предпросмотра поиска в дашборде, чтобы протестировать, как фасеты фильтруют результаты с различными запросами и комбинациями фильтров.
- **Анализируйте аналитику**: Отслеживайте аналитику, чтобы увидеть, с какими фасетами пользователи взаимодействуют чаще всего и приводят ли определенные фасеты к более высокому вовлечению или конверсиям.
- **Итерируйте**: Корректируйте конфигурации фасетов на основе поведения пользователей, чтобы приоритизировать наиболее полезные фильтры.

## Лучшие практики

- **Выбирайте релевантные фасеты**: Выбирайте фасеты, которые соответствуют тому, как пользователи естественно хотят фильтровать контент (например, цена для электронной коммерции, местоположение для геопоиска).
- **Ограничьте перегрузку фасетами**: Избегайте отображения слишком большого количества фасетов или значений одновременно; сосредоточьтесь на наиболее значимых, чтобы сохранить чистоту интерфейса.
- **Предоставляйте понятные метки**: Используйте интуитивные названия для фасетов и значений, чтобы пользователи понимали, что делает каждый фильтр.
- **Поддерживайте диапазоны для числовых данных**: Для полей, таких как цена или дата, используйте диапазонные фасеты (например, ползунки или поля ввода мин/макс) вместо перечисления всех возможных значений.

## Продвинутое использование фасетов

- **Динамические фасеты**: Автоматически генерируйте фасеты на основе наиболее распространенных атрибутов в результатах поиска для данного запроса.
- **Фасеты через API**: Используйте API AACSearch для программного управления фасетами для пользовательских или реальных потребностей фильтрации.
- **Персонализированные фасеты**: Показывайте разные фасеты или приоритизируйте определенные значения на основе контекста или предпочтений пользователя (требуется продвинутая настройка).

## Устранение неисправностей

- **Фасеты не отображаются**: Убедитесь, что поля фасетов правильно сопоставлены с вашей схемой данных и что индекс обновлен.
- **Неправильные счетчики**: Если счетчики значений фасетов не соответствуют результатам, проверьте, полностью ли проиндексированы данные и нет ли расхождений в значениях полей.
- **Медленная производительность**: Слишком много фасетов или сложные комбинации фильтров могут влиять на скорость; оптимизируйте, ограничивая значения фасетов или кэшируя распространенные запросы.
- **Свяжитесь с поддержкой**: Для сложных вопросов с фасетами обратитесь в поддержку через [community.aacsearch.com](https://community.aacsearch.com) или по email support@aacsearch.com.

## Следующие шаги

- Узнайте о настройке релевантности в [Настройка релевантности](../search/relevance.md).
- Изучите управление синонимами в [Синонимы](../search/synonyms.md).
- Погрузитесь глубже в функции автодополнения с [Автодополнение](../search/autocomplete.md).

## Дополнительные ресурсы

- [Дашборд AACSearch](https://dashboard.aacsearch.com) - Доступ к вашему аккаунту и управление настройками.
- [Форум сообщества](https://community.aacsearch.com) - Общайтесь с другими пользователями и получайте помощь.
