# Управление API-ключами

Это руководство объясняет, как управлять API-ключами в AACSearch для обеспечения безопасного доступа к вашим поисковым ресурсам и контроля использования.

## Введение

API-ключи необходимы для аутентификации и контроля доступа к конечным точкам API AACSearch. Правильное управление API-ключами гарантирует, что только авторизованные пользователи или приложения могут взаимодействовать с вашими поисковыми индексами, защищая ваши данные и ресурсы от несанкционированного доступа. Это руководство охватывает лучшие практики по созданию, использованию и защите API-ключей в AACSearch.

## Доступ к настройкам API-ключей

1. **Перейдите в настройки аккаунта**: В боковом меню панели управления выберите "Аккаунт" или "Настройки".
2. **Перейдите в раздел API-ключей**: В настройках аккаунта найдите вкладку "API-ключи" или "Разработчик" для управления вашими ключами.
3. **Просмотрите или создайте ключи**: Посмотрите существующие API-ключи или создайте новые по мере необходимости для ваших приложений или членов команды.

## Понимание API-ключей

- **Цель**: API-ключи выступают в роли уникальных идентификаторов для аутентификации запросов к API AACSearch, гарантируя, что только авторизованные сущности могут выполнять действия, такие как поиск, индексация или изменение настроек.
- **Область действия и разрешения**: API-ключи могут иметь конкретные разрешения или ограничения (например, только чтение, доступ на запись), чтобы ограничить выполняемые действия.
- **Отслеживание использования**: API-ключи помогают отслеживать использование и мониторить вызовы API, что полезно для выставления счетов, аналитики и выявления злоупотреблений.

## Управление API-ключами

1. **Создание API-ключей**:

   - **Генерация нового ключа**: В разделе API-ключей нажмите "Создать новый ключ" или "Сгенерировать API-ключ".
   - **Установка разрешений**: Определите область действия ключа (например, только чтение для поисковых запросов, полный доступ для административных задач), следуя принципу минимальных привилегий.
   - **Название ключа**: Присвойте ключу описательное имя (например, "Frontend Search App"), чтобы легко определить его назначение или владельца.
   - **Сохранение и копирование**: После создания немедленно скопируйте ключ, так как он может больше не отображаться по соображениям безопасности. Храните его в безопасном месте.

2. **Использование API-ключей**:

   - **Включение в запросы**: Добавьте API-ключ в ваши API-запросы, обычно в заголовок (например, `X-API-Key: your-api-key`) или как параметр запроса, в зависимости от документации API AACSearch.
   - **Переменные окружения**: Храните API-ключи в переменных окружения или конфигурационных файлах вашего приложения, никогда не встраивайте их напрямую в исходный код.
   - **Безопасная передача**: Убедитесь, что API-запросы выполняются по HTTPS, чтобы зашифровать передачу вашего API-ключа и предотвратить перехват.

3. **Ротация и отзыв ключей**:

   - **Регулярная ротация**: Периодически обновляйте API-ключи (например, каждые 90 дней), чтобы минимизировать риск долгосрочного использования скомпрометированных ключей.
   - **Отзыв скомпрометированных ключей**: Если есть подозрения, что ключ был утечен или скомпрометирован, немедленно отзовите его в разделе API-ключей на панели управления.
   - **Генерация замены**: Создайте новый ключ перед отзывом старого, чтобы обеспечить бесперебойную работу ваших приложений, затем обновите ключ в ваших системах.

4. **Ограничение использования ключей**:
   - **Белый список IP**: Если поддерживается, ограничьте API-ключи конкретными IP-адресами или диапазонами, чтобы предотвратить использование из несанкционированных местоположений.
   - **Ограничение скорости**: Примените ограничения скорости к API-ключам, чтобы предотвратить злоупотребления или чрезмерное использование, защищая ваши ресурсы от избыточных запросов.
   - **Ограниченный доступ**: Ограничьте ключи конкретными индексами или операциями (например, разрешите поиск только по определенному индексу), чтобы уменьшить потенциальный ущерб в случае компрометации ключа.

## Лучшие практики для безопасности API-ключей

- **Никогда не делитесь публично**: Не раскрывайте API-ключи в публичных репозиториях (например, GitHub), клиентском коде или незащищенных коммуникациях, таких как электронная почта.
- **Используйте безопасное хранение**: Храните API-ключи в безопасных хранилищах или инструментах управления секретами (например, AWS Secrets Manager, HashiCorp Vault), а не в текстовых файлах.
- **Мониторьте использование**: Регулярно проверяйте журналы использования API-ключей на панели управления AACSearch, чтобы выявить необычную активность или попытки несанкционированного доступа.
- **Принцип минимальных привилегий**: Предоставляйте только те разрешения, которые необходимы для предполагаемого использования ключа, чтобы минимизировать последствия потенциального нарушения.
- **Обучайте членов команды**: Убедитесь, что все члены команды понимают важность безопасности API-ключей и следуют лучшим практикам по их обращению.

## Тестирование API-ключей

- **Проверка функциональности**: Тестируйте вновь созданные API-ключи с помощью тестовых вызовов API, чтобы убедиться, что они работают как ожидается с назначенными разрешениями.
- **Проверка ограничений**: Убедитесь, что ограничения (например, белый список IP, ограниченный доступ) применяются, пытаясь выполнить несанкционированные действия или получить доступ из ограниченных местоположений.
- **Мониторинг журналов**: После тестирования проверьте журналы использования, чтобы подтвердить, что активность API-ключа соответствует вашим тестовым действиям, гарантируя отсутствие неожиданного поведения.

## Продвинутое управление API-ключами

- **Программное управление ключами**: Используйте API AACSearch для программного создания, ротации или отзыва API-ключей для автоматизированных рабочих процессов или интеграции с вашими системами безопасности.
- **Графики ротации ключей**: Внедрите автоматическую ротацию ключей с помощью скриптов или конвейеров CI/CD, чтобы обеспечить регулярные обновления без ручного вмешательства.
- **Журналы аудита**: Включите подробное логирование действий API-ключей, если поддерживается, создавая аудиторский след для обзоров безопасности или требований соответствия.

## Устранение неполадок

- **API-ключ не работает**: Если ключ не проходит аутентификацию, убедитесь, что он не был отозван, проверьте наличие опечаток при копировании ключа и убедитесь, что разрешения соответствуют предполагаемому действию.
- **Ошибки несанкционированного доступа**: Подтвердите, что ключ имеет правильную область действия для операции и используется из разрешенного IP или контекста, если применены ограничения.
- **Подозрение на компрометацию**: Если вы подозреваете утечку ключа, немедленно отзовите его, сгенерируйте новый ключ и проверьте журналы доступа на предмет подозрительной активности.
- **Свяжитесь с поддержкой**: Для сложных проблем с API-ключами или подозрений на нарушение безопасности обратитесь в поддержку через [community.aacsearch.com](https://community.aacsearch.com) или по электронной почте support@aacsearch.com.

## Следующие шаги

- Узнайте о контроле доступа в [Контроль доступа](../security/access-control.md).
- Изучите стратегии ограничения скорости в [Ограничение скорости](../security/rate-limiting.md).
- Погрузитесь глубже в конфиденциальность данных с [Конфиденциальность данных](../security/privacy.md).

## Дополнительные ресурсы

- [Панель управления AACSearch](https://dashboard.aacsearch.com) - Получите доступ к своему аккаунту и управляйте настройками.
- [Форум сообщества](https://community.aacsearch.com) - Общайтесь с другими пользователями и получайте помощь.
