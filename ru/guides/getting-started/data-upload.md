# Загрузка данных

Загрузка данных в ваш индекс AACSearch - это следующий шаг после его создания. Этот процесс позволяет заполнить ваш индекс содержимым, которое вы хотите сделать доступным для поиска. Это руководство проведет вас через шаги по загрузке данных в ваш индекс с помощью Панели управления AACSearch и предоставит обзор использования API для более продвинутых или автоматизированных загрузок.

## Предварительные условия

Перед загрузкой данных убедитесь, что вы выполнили следующие условия:

- **Настройка аккаунта**: У вас есть активный аккаунт AACSearch. Если нет, следуйте руководству [Настройка аккаунта](../getting-started/account-setup.md).
- **Создание индекса**: Вы создали хотя бы один индекс. Если нет, следуйте руководству [Первый индекс](../getting-started/first-index.md).
- **Доступ к панели управления**: Войдите в [Панель управления AACSearch](https://dashboard.aacsearch.com) с вашими учетными данными.

## Шаг 1: Подготовьте ваши данные

Перед загрузкой убедитесь, что ваши данные правильно отформатированы для AACSearch:

1. **Структурируйте ваши данные**: AACSearch ожидает данные в формате JSON, где каждый элемент (или "объект") в вашем индексе - это JSON-объект с уникальным полем `id`. Другие поля могут представлять содержимое, доступное для поиска (например, `title`, `description`, `category`).
   - **Пример одного объекта**:
     ```json
     {
       "id": "1",
       "title": "Смартфон Модель X",
       "description": "Последняя модель с продвинутыми функциями.",
       "category": "электроника",
       "price": 699.99
     }
     ```
   - **Пример массива объектов** (для пакетной загрузки):
     ```json
     [
       {
         "id": "1",
         "title": "Смартфон Модель X",
         "description": "Последняя модель с продвинутыми функциями.",
         "category": "электроника",
         "price": 699.99
       },
       {
         "id": "2",
         "title": "Смартфон Модель Y",
         "description": "Доступный смартфон с отличной производительностью.",
         "category": "электроника",
         "price": 399.99
       }
     ]
     ```
2. **Обеспечьте уникальность ID**: Каждый объект должен иметь уникальный `id`, чтобы предотвратить перезапись существующих данных. Если `id` уже существует в индексе, загрузка объекта с тем же `id` обновит существующую запись.
3. **Соответствие схеме (Необязательно)**: Если вы определили атрибуты для поиска или фильтрации в настройках индекса, убедитесь, что ваши данные включают эти поля для оптимальной производительности поиска. Смотрите [Настройка поиска](../dashboard/search-config.md) для деталей.

## Шаг 2: Загрузка данных через панель управления

Панель управления AACSearch предоставляет удобный способ загрузки небольших и средних наборов данных вручную:

1. **Перейдите к индексам**: В боковой панели слева в панели управления нажмите на "Индексы", чтобы просмотреть список ваших индексов.
2. **Выберите ваш индекс**: Нажмите на индекс, в который вы хотите загрузить данные. Это откроет страницу деталей индекса.
3. **Перейдите к управлению данными**: Найдите вкладку или раздел с названием "Данные", "Объекты" или "Загрузить данные" (точное название может варьироваться в зависимости от версии вашей панели управления).
4. **Загрузите данные**:
   - **Ручной ввод**: Для небольших наборов данных вы можете вручную ввести один JSON-объект или вставить JSON-массив непосредственно в предоставленное текстовое поле.
   - **Загрузка файла**: Для больших наборов данных нажмите "Загрузить файл" и выберите JSON-файл с вашего компьютера. Убедитесь, что файл содержит действительный JSON-массив объектов, как показано в примере выше.
5. **Проверьте и подтвердите**: AACSearch проверит ваши данные на наличие ошибок форматирования. Если есть проблемы (например, отсутствующие поля `id`), вы увидите сообщения об ошибках с подробностями. Исправьте любые ошибки и повторите попытку. Если данные действительны, нажмите "Загрузить" или "Добавить объекты", чтобы добавить данные в ваш индекс.
6. **Проверьте статус загрузки**: После загрузки панель управления отобразит количество объектов в вашем индексе. Обновите страницу, если счетчик не обновляется сразу.

## Шаг 3: Подтвердите наличие данных в индексе

Чтобы убедиться, что ваши данные были успешно загружены:

1. **Просмотрите количество объектов**: На странице деталей индекса проверьте общее количество объектов. Оно должно отражать количество элементов, которые вы загрузили.
2. **Просмотрите данные**: Некоторые панели управления позволяют просматривать или предварительно просматривать загруженные объекты. Найдите опцию "Просмотреть" или "Просмотр данных", чтобы увидеть образец ваших данных.
3. **Тестируйте поиск**: Используйте функцию предварительного просмотра поиска в панели управления (если доступно), чтобы протестировать поиск в вашем индексе. Введите запрос, чтобы убедиться, что результаты возвращаются как ожидалось.

## Альтернатива: Загрузка данных через API

Для больших наборов данных, автоматизированных рабочих процессов или интеграции с существующими системами загрузка данных через API AACSearch более эффективна:

1. **Получите API-ключ**: Убедитесь, что у вас есть API-ключ с разрешениями на добавление объектов. Смотрите [Настройка аккаунта](../getting-started/account-setup.md) для генерации API-ключей.
2. **Используйте API объектов**: Используйте конечную точку `POST /indexes/{name}/objects` для добавления данных. Вы можете загрузить один объект или пакет объектов в одном запросе.
   - **Пример одного объекта** (используя `curl`):
     ```bash
     curl -X POST "https://api.aacsearch.com/indexes/продукты/objects" \
       -H "X-API-Key: your-api-key" \
       -H "Content-Type: application/json" \
       -d '{"id": "1", "title": "Смартфон Модель X", "description": "Последняя модель с продвинутыми функциями.", "category": "электроника", "price": 699.99}'
     ```
   - **Пример пакетной загрузки**:
     ```bash
     curl -X POST "https://api.aacsearch.com/indexes/продукты/objects" \
       -H "X-API-Key: your-api-key" \
       -H "Content-Type: application/json" \
       -d '[{"id": "1", "title": "Смартфон Модель X", "description": "Последняя модель с продвинутыми функциями.", "category": "электроника", "price": 699.99}, {"id": "2", "title": "Смартфон Модель Y", "description": "Доступный смартфон с отличной производительностью.", "category": "электроника", "price": 399.99}]'
     ```
3. **Проверьте ответ**: API вернет ответ, подтверждающий статус загрузки, включая `id` добавленных объектов или сообщения об ошибках, если загрузка не удалась.
4. **Автоматизируйте с помощью скриптов**: Для повторяющихся загрузок создайте скрипт процесса, используя предпочитаемый язык программирования (например, Python, Node.js) с SDK AACSearch или прямыми вызовами API. Смотрите [Документацию SDK](../../sdk/installation.md) для настройки SDK.

## Лучшие практики для загрузки данных

- **Пакетные загрузки для эффективности**: При загрузке больших наборов данных отправляйте данные пакетами (например, по 100-1000 объектов за запрос), чтобы избежать таймаутов и уменьшить количество вызовов API. Проверьте ограничения скорости AACSearch в [Ограничение запросов](../security/rate-limiting.md).
- **Проверка данных перед загрузкой**: Убедитесь, что ваш JSON действителен и все обязательные поля (особенно `id`) присутствуют, чтобы предотвратить сбои при загрузке.
- **Инкрементальные обновления**: Для существующих индексов загружайте только новые или обновленные объекты, чтобы избежать ненужной обработки. Используйте функцию обновления API для изменения существующих записей по `id`.
- **Контроль размера индекса**: Будьте в курсе ограничений вашего плана на размер индекса или количество объектов. Если вы приближаетесь к лимитам, рассмотрите возможность обновления плана или оптимизации данных. Смотрите [Биллинг](../dashboard/billing.md) для деталей плана.

## Следующие шаги

С загруженными данными в ваш индекс вы готовы интегрировать функциональность поиска в ваше приложение или веб-сайт:

- **[Интеграция](../getting-started/integration.md)**: Узнайте, как подключить AACSearch к вашему приложению для поиска в реальном времени.
- **[Настройка поиска](../dashboard/search-config.md)**: Точно настройте параметры поиска для улучшения релевантности и пользовательского опыта.
- **[Аналитика и инсайты](../dashboard/analytics.md)**: Отслеживайте, как пользователи взаимодействуют с вашим поиском, чтобы выявить области для улучшения.

## Устранение неисправностей

Если вы столкнулись с проблемами при загрузке данных:

- **Ошибки формата JSON**: Убедитесь, что ваши данные - это действительный JSON. Используйте инструмент валидации JSON для проверки на синтаксические ошибки, такие как отсутствующие запятые или скобки.
- **Отсутствующее поле ID**: Каждый объект должен иметь уникальный `id`. Если его нет, AACSearch отклонит загрузку. Добавьте поля `id` и повторите попытку.
- **Ограничения размера файла**: Если вы загружаете через панель управления, проверьте ограничения на размер файла. Для больших файлов разделите данные на меньшие части или используйте API.
- **Превышение лимита скорости**: Если вы используете API и получаете ошибку `429 Too Many Requests`, вы достигли лимита скорости. Подождите перед повторной попыткой или более эффективно группируйте загрузки. Смотрите [Ограничение запросов](../security/rate-limiting.md).
- **Свяжитесь с поддержкой**: Для дальнейшей помощи обратитесь в нашу службу поддержки через [community.aacsearch.com](https://community.aacsearch.com) или по email support@aacsearch.com.

## Дополнительные ресурсы

- [Панель управления AACSearch](https://dashboard.aacsearch.com) - Загружайте и управляйте данными визуально.
- [Справочник API по объектам](../../api/objects.md) - Подробная документация по загрузке данных через API.
- [Документация SDK](../../sdk/installation.md) - Используйте SDK для более простой интеграции API на различных языках программирования.
- [Форум сообщества](https://community.aacsearch.com) - Общайтесь с другими пользователями для получения советов и устранения неполадок.
