# Мультитенантный поиск

Этот пример демонстрирует, как настроить поиск AACSearch для мультитенантной архитектуры, где разные клиенты или пользователи имеют свои собственные данные и настройки поиска. Вы узнаете, как:

- Создать отдельные индексы для каждого тенанта или использовать фильтры для разделения данных.
- Настроить доступ к данным на основе идентификатора тенанта.
- Оптимизировать производительность при большом количестве тенантов.
- Интегрировать мультитенантный поиск в ваше приложение.

## Пример структуры данных

```json
{
  "id": "doc_456",
  "title": "Внутренний документ",
  "content": "Конфиденциальная информация для клиента А...",
  "tenant_id": "client_a",
  "category": "Документы",
  "created_at": "2023-06-10"
}
```

## Настройка индекса

1. Создайте индекс `tenant_data` через API или панель управления.
2. Настройте атрибуты для поиска (`searchableAttributes`), такие как `title` и `content`.
3. Настройте атрибуты для фильтрации (`attributesForFaceting`), такие как `tenant_id` и `category`.
4. Убедитесь, что каждый объект данных содержит уникальный идентификатор тенанта (`tenant_id`).
5. Загрузите данные в индекс.

## Интеграция поиска

Используйте JavaScript SDK для интеграции мультитенантного поиска в ваше приложение, ограничивая результаты по идентификатору тенанта:

```javascript
import AACSearch from "aacsearch-js";

const client = new AACSearch("your-api-key");
const index = client.initIndex("tenant_data");

index
  .search("документ", {
    filters: "tenant_id:client_a",
    facets: ["category"],
  })
  .then(({ hits, facets }) => {
    console.log(hits); // Результаты поиска для конкретного тенанта
    console.log(facets); // Данные для фильтров
  });
```

Для более подробной информации обратитесь к [руководству по безопасности и контролю доступа](../../guides/security/access-control.md).
