# Алгоритмы ранжирования

Алгоритмы ранжирования в AACSearch определяют порядок отображения результатов поиска на основе их релевантности запросу пользователя. В этом разделе рассматриваются основы работы ранжирования и способы его настройки для достижения оптимальных результатов.

## Основы ранжирования

AACSearch использует многофакторный подход к ранжированию, учитывающий:

- **Текстовая релевантность**: Соответствие запроса содержимому полей, таких как заголовки и описания.
- **Популярность**: Частота просмотров или кликов по объекту (если данные предоставлены).
- **Свежеть данных**: Более новые объекты могут иметь приоритет (например, новости или посты).
- **Персонализация**: Учет предпочтений пользователя (если включено).
- **Географическая близость**: Для геопоиска приоритет отдается ближайшим объектам.

## Настройка ранжирования

Вы можете настроить алгоритмы ранжирования через API или панель управления, чтобы адаптировать их под ваши нужды:

1. **Определение приоритетных атрибутов**  
   Укажите, какие поля наиболее важны для поиска. Например, заголовок может иметь больший вес, чем описание.

   ```json
   {
     "ranking": ["words", "typo", "attribute", "proximity", "exact", "custom"],
     "searchableAttributes": ["title", "description", "content"]
   }
   ```

2. **Пользовательские правила ранжирования**  
   Создайте правила для повышения или понижения определенных объектов на основе условий.  
   Пример: Повышение товаров со скидкой в результатах поиска.

   ```json
   {
     "customRanking": ["desc(discount_percentage)", "asc(price)"]
   }
   ```

3. **Учет пользовательских данных**  
   Используйте данные о поведении пользователей для персонализации результатов.  
   Пример: Увеличение веса часто просматриваемых категорий.
   ```json
   {
     "userData": {
       "preferred_categories": ["electronics", "books"]
     }
   }
   ```

## Тестирование и оптимизация

- Используйте аналитику AACSearch для оценки эффективности ранжирования.
- Проводите A/B-тестирование разных настроек ранжирования.
- Собирайте обратную связь от пользователей для улучшения результатов.

Для более детальной информации о настройке ранжирования обратитесь к [руководству по пользовательскому ранжированию](./custom-ranking.md).
